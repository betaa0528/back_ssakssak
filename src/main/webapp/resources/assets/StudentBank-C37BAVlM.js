import{_ as ot,d as h,E as at,c as u,o as c,e as i,f as t,F as v,q as g,t as l,g as p,w as C,v as R,s as nt,h as A,B as lt,C as ct}from"./index-DvTNLHIP.js";import{_ as F}from"./tree1-DF5lsKKK.js";import{u as it,B as I}from"./bankStore-Cy1I0gfk.js";import"./teacherClassApi-AZEW-Jam.js";const o=y=>(lt("data-v-3904ec41"),y=y(),ct(),y),dt=o(()=>t("link",{rel:"stylesheet",href:"assets/css/theme.min.css"},null,-1)),ut=o(()=>t("link",{rel:"stylesheet",href:"assets/css/theme.css"},null,-1)),rt=o(()=>t("link",{rel:"stylesheet",href:"https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css"},null,-1)),_t={class:"container mt-2 mt-lg-5 mb-lg-4 my-xl-5"},ht={class:"card-header"},vt=o(()=>t("h5",{class:"title"},"현재 가입중인 예금 상품",-1)),pt={class:"card-body"},bt={class:"table"},mt=o(()=>t("thead",null,[t("tr",null,[t("th",{id:"th1"},"상품 가입일"),t("th",{id:"th1"},"만기 예정일"),t("th",{id:"th1"},"상품명"),t("th",{id:"th1"},"적립액"),t("th",{id:"th1"},"해지하기")])],-1)),ft={style:{color:"blue"}},Dt=["onClick"],gt={class:"container mt-2 mt-lg-5 mb-lg-4 my-xl-5"},yt={class:"card-header"},xt=o(()=>t("h5",{class:"title"},"현재 가입중인 적금 상품",-1)),kt={class:"card-body"},wt={class:"table"},St=o(()=>t("thead",null,[t("tr",null,[t("th",{id:"th1"},"상품 가입일"),t("th",{id:"th1"},"만기 예정일"),t("th",{id:"th1"},"상품명"),t("th",{id:"th1"},"적립액"),t("th",{id:"th1"},"해지하기")])],-1)),Ct={style:{color:"blue"}},At=["onClick"],It=o(()=>t("div",{class:"container"},[t("div",{class:"card-header"},[t("h5",{class:"title"},"가입 가능한 예금 상품 전체보기")])],-1)),Nt={id:"specificSavingsPlan",class:"savings-plans"},Pt={class:"savingCard"},$t=o(()=>t("img",{src:F,alt:"싹싹예금",class:"card-img",id:"card-img"},null,-1)),Mt={class:"card-header"},Lt={class:"alert alert-primary",role:"alert"},Bt=o(()=>t("i",{class:"bi bi-bar-chart-line me-2",style:{"padding-bottom":"5px"}},null,-1)),jt=o(()=>t("i",{class:"bi bi-calendar4-week me-2",style:{"padding-left":"10px","padding-bottom":"5px"}},null,-1)),Vt={class:"card-body"},Tt={class:"d-flex justify-content-between align-items-center pb-2 mb-3"},Rt=o(()=>t("span",{class:"text-muted fw-bold d-block p-0"},"상품특징",-1)),Ut={class:"text-muted ps-5",style:{"text-align":"left"}},qt={class:"d-flex justify-content-between align-items-center pb-2 mb-3"},Ft=o(()=>t("span",{class:"text-muted fw-bold"},"예치기간",-1)),Wt={class:"text-muted"},Et={class:"d-flex justify-content-between align-items-center pb-2 mb-3"},Ot=o(()=>t("span",{class:"text-muted fw-bold"},"저축금액",-1)),Yt={class:"text-muted"},zt=["onClick","disabled"],Gt=o(()=>t("div",{class:"container"},[t("div",{class:"card-header"},[t("h5",{class:"title"},"가입 가능한 적금 상품 전체보기")])],-1)),Ht={class:"savings-plans"},Jt={class:"savingCard"},Kt=o(()=>t("img",{src:F,alt:"새싹적금",class:"card-img",id:"card-img"},null,-1)),Qt={class:"card-header"},Xt={class:"alert alert-primary",role:"alert"},Zt=o(()=>t("i",{class:"bi bi-bar-chart-line me-2",style:{"padding-bottom":"5px"}},null,-1)),te=o(()=>t("i",{class:"bi bi-calendar4-week me-2",style:{"padding-left":"10px","padding-bottom":"5px"}},null,-1)),ee={class:"card-body"},se={class:"d-flex justify-content-between align-items-center pb-2 mb-3"},oe=o(()=>t("span",{class:"text-muted fw-bold d-block p-0",style:{width:"100px"}},"상품특징",-1)),ae={class:"text-muted ps-5",style:{"text-align":"left"}},ne={class:"d-flex justify-content-between align-items-center pb-2 mb-3"},le=o(()=>t("span",{class:"text-muted fw-bold"},"예치기간",-1)),ce={class:"text-muted"},ie={class:"d-flex justify-content-between align-items-center pb-2 mb-3"},de=o(()=>t("span",{class:"text-muted fw-bold"},"저축금액",-1)),ue={class:"text-muted"},re=["onClick","disabled"],_e={key:0,class:"modal"},he={class:"modal-content"},ve={key:0},pe={key:1},be={key:2},me=o(()=>t("label",null,"금액 설정 : ",-1)),fe={key:3},De=o(()=>t("p",null,"이제 나의 적금에서 확인할 수 있습니다.",-1)),ge=[De],ye={key:1,class:"modal"},xe={class:"modal-content"},ke={key:0},we={key:1},Se={key:2},Ce=o(()=>t("label",null,"금액 설정 : ",-1)),Ae={key:3},Ie=o(()=>t("p",null,"이제 나의 적금에서 확인할 수 있습니다.",-1)),Ne=[Ie],Pe={class:"container mt-2 mt-lg-5 mb-lg-4 my-xl-5"},$e={class:"card-header"},Me=o(()=>t("h5",{class:"title"},"얼마를 받을 수 있을까? 📱",-1)),Le={class:"input-section"},Be={class:"form-group"},je=o(()=>t("label",null,"상품 선택 : ",-1)),Ve=o(()=>t("option",{value:""},"선택",-1)),Te=["value"],Re={class:"form-group"},Ue=o(()=>t("label",null,"금리",-1)),qe=["value"],Fe={class:"form-group"},We=o(()=>t("label",null,"입금 금액",-1)),Ee={class:"amount-input"},Oe={class:"result-section"},Ye={class:"result-item"},ze=o(()=>t("label",null,"예상 적립액",-1)),Ge={class:"result-item"},He=o(()=>t("label",null,"세후 예상 이자(세금 : 15.4%)",-1)),Je={class:"result-item"},Ke=o(()=>t("label",null,"만기 금액",-1)),Qe={__name:"StudentBank",setup(y){const d=it(),N=h(()=>d.depositList),P=h(()=>d.myDepositList),$=h(()=>d.savingList),M=h(()=>d.mySavingList);at(async()=>{await d.fetchDepositList(),await d.fetchDepositAccount(),await d.fetchSavingList(),await d.fetchSavingAccount()}),console.log(P),console.log(M);const L=u(!1),x=u(""),b=u(100),m=u(!1),W=s=>{x.value=s.savingName,L.value=!0},E=()=>{L.value=!1,m.value=!1,b.value=100},B=u(!1),k=u(""),f=u(100),D=u(!1),O=s=>{k.value=s.depositName,B.value=!0},Y=()=>{B.value=!1,D.value=!1,f.value=100},U=(s,a)=>{const e=new Date(s);return e.setDate(e.getDate()+a*7),e},w=s=>{const a=s.getFullYear(),e=String(s.getMonth()+1).padStart(2,"0"),n=String(s.getDate()).padStart(2,"0");return`${a}-${e}-${n}`},z=async()=>{const s=new Date;let a;const e=N.value.find(_=>_.depositName===k.value);if(a=U(s,e.depositPeriod),f.value>e.maxDeposit){alert(`최대 금액을 초과했습니다! ${k.value}의 최대 금액은 ${maxAmount}입니다.`);return}const n={depositId:e.depositId,rate:e.rate,depositAmount:f.value,startDate:w(s),endDate:w(a)};await I.subscribeDeposit(n),D.value=!0,await d.fetchDepositAccount()},G=async()=>{const s=new Date;let a;const e=$.value.find(_=>_.savingName===x.value);if(a=U(s,e.savingPeriod/7),b.value>e.maxDeposit){alert(`최대 금액을 초과했습니다! ${x.value}의 최대 금액은 ${e.maxDeposit}입니다.`);return}const n={savingId:e.savingId,rate:e.rate,depositAmount:b.value,startDate:w(s),endDate:w(a),totalAmount:0};await I.subscribeSaving(n),m.value=!0,await d.fetchSavingList()},H=s=>P.value.find(a=>a.depositId===s),J=s=>M.value.find(a=>a.savingId===s),K=async s=>{await I.cancelDeposit(s.accountId),alert(`${s.depositName} 적금을 해지합니다.`),await d.fetchDepositAccount()},Q=async s=>{await I.cancelSaving(s.accountId),alert(`${s.savingName} 적금을 해지합니다.`),await d.fetchSavingAccount()},j=h(()=>{const s=[],a=[...N.value],e=[...$.value];for(const n of a)s.push({name:n.depositName,maxDeposit:n.maxDeposit,depositPeriod:n.depositPeriod,rate:n.rate});for(const n of e)s.push({name:n.savingName,maxDeposit:n.maxDeposit,depositPeriod:n.savingPeriod,rate:n.rate});return s}),S=u(""),r=u(100),X=h(()=>{const s=j.value.find(a=>a.name===S.value);if(s)return s.rate}),V=u(0),q=u(0),Z=()=>{const s=j.value.find(a=>a.name===S.value);if(s){let a=s.rate,e=s.depositPeriod,n=0;if(console.log("name",s.name),s.name.endsWith("예금")){const T=e/4;n=r.value*(a/100)*T}if(s.name.endsWith("적금")){const T=e/7;n=r.value*T*(a/100/12)}const _=n*.154,st=n-_;V.value=Math.round(st),q.value=r.value+V.value}},tt=()=>{r.value+=10},et=()=>{r.value>10&&(r.value-=10)};return(s,a)=>(c(),i(v,null,[dt,ut,rt,t("div",_t,[t("div",ht,[vt,t("div",pt,[t("table",bt,[mt,t("tbody",null,[(c(!0),i(v,null,g(P.value,(e,n)=>(c(),i("tr",{key:n},[t("td",null,l(e.startDate[0]+"-"+(e.startDate[1]<10?"0"+e.startDate[1]:e.startDate[1])+"-"+(e.startDate[2]<10?"0"+e.startDate[2]:e.startDate[2])),1),t("td",null,l(e.endDate[0]+"-"+(e.endDate[1]<10?"0"+e.endDate[1]:e.endDate[1])+"-"+(e.endDate[2]<10?"0"+e.endDate[2]:e.endDate[2])),1),t("td",null,l(e.depositName),1),t("td",ft,l(e.depositAmount)+" 씨드",1),t("td",null,[t("button",{class:"btn btn-outline-danger",onClick:_=>K(e)},"상품 해지",8,Dt)])]))),128))])])])])]),t("div",gt,[t("div",yt,[xt,t("div",kt,[t("table",wt,[St,t("tbody",null,[(c(!0),i(v,null,g(M.value,(e,n)=>(c(),i("tr",{key:n},[t("td",null,l(e.startDate[0]+"-"+(e.startDate[1]<10?"0"+e.startDate[1]:e.startDate[1])+"-"+(e.startDate[2]<10?"0"+e.startDate[2]:e.startDate[2])),1),t("td",null,l(e.endDate[0]+"-"+(e.endDate[1]<10?"0"+e.endDate[1]:e.endDate[1])+"-"+(e.endDate[2]<10?"0"+e.endDate[2]:e.endDate[2])),1),t("td",null,l(e.savingName),1),t("td",Ct,l(e.totalAmount)+" 씨드",1),t("td",null,[t("button",{class:"btn btn-outline-danger",onClick:_=>Q(e.accountId)},"상품 해지",8,At)])]))),128))])])])])]),It,t("div",Nt,[(c(!0),i(v,null,g(N.value,(e,n)=>(c(),i("div",{key:e.depositId,class:"card-safe"},[t("div",Pt,[$t,t("div",Mt,[t("h4",null,l(e.depositName),1),t("div",Lt,[Bt,A("금리 : "+l(e.rate)+"%",1),jt,A("예치 기간 : "+l(e.depositPeriod)+"주 ",1)])]),t("div",Vt,[t("div",Tt,[Rt,t("span",Ut,l(e.depositContent),1)]),t("div",qt,[Ft,t("span",Wt,l(e.depositPeriod)+"주",1)]),t("div",Et,[Ot,t("span",Yt,"최대 "+l(e.maxDeposit)+"씨드",1)])]),t("button",{class:"btn2",onClick:_=>O(e),disabled:H(e.depositId)},"상품 가입하기",8,zt)])]))),128))]),Gt,t("div",Ht,[(c(!0),i(v,null,g($.value,(e,n)=>(c(),i("div",{key:e.savingId,class:"card-safe"},[t("div",Jt,[Kt,t("div",Qt,[t("h4",null,l(e.savingName),1),t("div",Xt,[Zt,A("금리 : "+l(e.rate)+" "+l(e.primeRate?" ~ "+e.primeRate:"")+"%",1),te,A("예치 기간 : "+l(e.savingPeriod/7)+"주 ",1)])]),t("div",ee,[t("div",se,[oe,t("span",ae,l(e.savingContent),1)]),t("div",ne,[le,t("span",ce,l(e.savingPeriod/7)+"주",1)]),t("div",ie,[de,t("span",ue,"최대 "+l(e.maxDeposit)+"씨드",1)])]),t("button",{class:"btn2",onClick:_=>W(e),disabled:J(e.savingId)},"상품 가입하기",8,re)])]))),128))]),B.value?(c(),i("div",_e,[t("div",he,[D.value?p("",!0):(c(),i("h3",ve,l(k.value)+" 가입하기",1)),D.value?(c(),i("h3",pe,"축하합니다! 예금 가입이 완료되었습니다.")):p("",!0),D.value?(c(),i("div",fe,ge)):(c(),i("div",be,[me,C(t("input",{type:"number","onUpdate:modelValue":a[0]||(a[0]=e=>f.value=e),class:"moneyselect"},null,512),[[R,f.value]]),t("button",{class:"btn btn-primary",onClick:z},"예금 가입하기")])),t("button",{onClick:Y},"닫기")])])):p("",!0),L.value?(c(),i("div",ye,[t("div",xe,[m.value?p("",!0):(c(),i("h3",ke,l(x.value)+" 가입하기",1)),m.value?(c(),i("h3",we,"축하합니다! 적금 가입이 완료되었습니다.")):p("",!0),m.value?(c(),i("div",Ae,Ne)):(c(),i("div",Se,[Ce,C(t("input",{type:"number","onUpdate:modelValue":a[1]||(a[1]=e=>b.value=e),class:"moneyselect"},null,512),[[R,b.value]]),t("button",{class:"btn btn-primary",onClick:G},"적금 가입하기")])),t("button",{onClick:E},"닫기")])])):p("",!0),t("div",Pe,[t("div",$e,[Me,t("div",Le,[t("div",Be,[je,C(t("select",{"onUpdate:modelValue":a[2]||(a[2]=e=>S.value=e),class:"form-control styled-select"},[Ve,(c(!0),i(v,null,g(j.value,(e,n)=>(c(),i("option",{value:e.name},l(e.name),9,Te))),256))],512),[[nt,S.value]])]),t("div",Re,[Ue,t("input",{type:"text",value:X.value,class:"form-control styled-select",disabled:""},null,8,qe)]),t("div",Fe,[We,t("div",Ee,[t("button",{onClick:et,class:"btn btn-outline-success"},"-"),C(t("input",{type:"number","onUpdate:modelValue":a[3]||(a[3]=e=>r.value=e),class:"form-control"},null,512),[[R,r.value]]),t("button",{onClick:tt,class:"btn btn-outline-success"},"+")])]),t("button",{class:"calculate-btn",onClick:Z},"계산하기")]),t("div",Oe,[t("div",Ye,[ze,t("div",null,l(r.value)+" 씨드",1)]),t("div",Ge,[He,t("div",null,l(V.value)+" 씨드",1)]),t("div",Je,[Ke,t("div",null,l(q.value)+" 씨드",1)])])])])],64))}},os=ot(Qe,[["__scopeId","data-v-3904ec41"]]);export{os as default};
