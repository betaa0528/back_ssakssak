import{_ as E}from"./imgText2-EAhBqp2f.js";import{_ as R}from"./tree1-DF5lsKKK.js";import{u as T}from"./stockStore-C02B7glj.js";import{d as h,c as m,p as A,o as g,e as f,k as i,y as B,D as L,_ as x,b as V,E as H,j as w,f as t,h as u,t as d,l as p,A as F,B as $,C as b,m as P}from"./index-DvTNLHIP.js";import"./studentStockApi-kF3M_Z2u.js";const U={class:"container",style:{height:"100%"}},j={__name:"StockChart",setup(s){const n=T(),r=h(()=>n.chartData),a=h(()=>r.value.length===0?0:r.value.reduce((e,c)=>e.stockPrice>=c.stockPrice?e:c).stockPrice),v=e=>{if(!e||isNaN(e))return[0,0,0,0];const c=parseInt(e+(Math.random()*10-4)),S=parseInt(e+(Math.random()*8+2)),C=parseInt(e-(Math.random()*6+2)),y=parseInt(e),M=Math.max(c,S,y),N=Math.min(c,C,y);return[c,M,N,y]},o=e=>e.map(c=>({x:new Date(c.stockDate),y:v(c.stockPrice)})),l=m([{name:"Stock Prices",data:o(r.value)}]);A(r,e=>{l.value[0].data=o(e)});const _=m({chart:{id:"basic-bar"},height:"100%",xaxis:{type:"datetime",labels:{formatter:function(e){return new Date(e).getDate()}},tickAmount:r.value.length},yaxis:{tooltip:{enabled:!0},range:a.value+10}});return(e,c)=>(g(),f("div",U,[i(B(L),{style:{width:"100%",height:"100%"},type:"candlestick",options:_.value,series:l.value},null,8,["options","series"])]))}},k=s=>($("data-v-14cc94c8"),s=s(),b(),s),G={class:"container"},O={class:"card"},Q={class:"row"},X={class:"imgText col-5 text-white",style:{"min-width":"300px"}},q=k(()=>t("img",{src:E,class:"card-img",alt:"..."},null,-1)),z={class:"card-img-overlay"},J=F('<div class="d-flex align-items-center mb-3" data-v-14cc94c8><div class="col-auto" data-v-14cc94c8><img src="'+R+'" class="chart-img" style="width:30px;height:auto;" data-v-14cc94c8></div><div class="mx-2 d-flex align-items-center" data-v-14cc94c8><h2 class="text-white fs-7 mt-3" data-v-14cc94c8>싹싹주식</h2></div></div>',1),K={class:"px-0 pt-2"},W={class:"fs-5 mb-0 text-danger fw-semibold"},Y=k(()=>t("span",{class:"text-gray"},"오늘의 가격",-1)),Z={class:"fs-5 txt-primary fw-semibold"},tt=k(()=>t("span",{class:"fs-6 text-muted pe-2"},"어제보다",-1)),et={class:"text-bottom"},st={class:"fs-5 mt-3 mb-1"},at={class:"fw-bold text-danger"},ct={class:"fs-5 mb-1 mb-3"},ot={class:"fw-bold txt-primary"},nt={class:"stockChart col-7",style:{"min-width":"500px"}},rt=k(()=>t("div",{class:"mx-1 mt-2 mb-3"},null,-1)),it={__name:"StockChartLayout",setup(s){const n=T(),r=V(),a=h(()=>n.chartData);r.roles,H(async()=>{await n.fetchMyStock(),await n.fetchChartData()});const v=h(()=>a.value.length===0?0:a.value.reduce((e,c)=>e.stockPrice>=c.stockPrice?e:c)),o=h(()=>a.value.length===0?0:a.value.reduce((e,c)=>e.stockPrice<=c.stockPrice?e:c)),l=h(()=>a.value.length===0?0:a.value[a.value.length-1]),_=h(()=>a.value.length===0?0:a.value[a.value.length-1].stockPrice-a.value[a.value.length-2].stockPrice);return(e,c)=>{const S=w("router-link");return g(),f("div",G,[t("div",O,[t("div",Q,[t("div",X,[q,t("div",z,[J,t("div",K,[t("p",W,[Y,u(" "+d(l.value.stockPrice)+" 씨드",1)]),t("p",Z,[tt,u(" "+d(_.value)+" 씨드 ("+d(l.value.change>=0?`+${l.value.change}`:l.value.change)+"%) ",1)])]),t("div",et,[t("p",st,[u("최고 가격 (30일): "),t("span",at,d(v.value.stockPrice)+" 씨드",1)]),t("p",ct,[u("최저 가격 (30일): "),t("span",ot,d(o.value.stockPrice)+" 씨드",1)])])])]),t("div",nt,[rt,i(S,{class:"router1",to:"/teacher/stock"},{default:p(()=>[i(j)]),_:1})])])])])}}},dt=x(it,[["__scopeId","data-v-14cc94c8"]]),lt="/api/student/home",_t={async getSeedRankingThree(){const{data:s}=await P.get(`${lt}/seedranking`);return console.log("Seed ranking three students:",s),s}},I=s=>($("data-v-0272b919"),s=s(),b(),s),ht={class:"card-container"},ut={class:"card-img-overlay"},mt={class:"overlay-text1"},vt={class:"overlay-text2"},pt={class:"overlay-text3"},gt=I(()=>t("div",{class:"card-img-overlay"},null,-1)),ft=I(()=>t("div",{class:"card-img-overlay"},null,-1)),xt={__name:"StudentDoor",setup(s){const n=m(""),r=m(""),a=m("");return(async()=>{try{const o=await _t.getSeedRankingThree();console.log("Student Ranking:",o),o.length>=3&&(n.value=o[0].stdName,r.value=o[1].stdName,a.value=o[2].stdName)}catch(o){console.error("Failed to fetch seed ranking:",o)}})(),(o,l)=>{const _=w("router-link");return g(),f("div",ht,[i(_,{to:"/student/event",class:"card"},{default:p(()=>[t("div",ut,[t("span",mt,d(n.value),1),t("span",vt,d(r.value),1),t("span",pt,d(a.value),1)])]),_:1}),i(_,{to:"/student/profile",class:"card"},{default:p(()=>[gt]),_:1}),i(_,{to:"/student/event/test",class:"card"},{default:p(()=>[ft]),_:1})])}}},kt=x(xt,[["__scopeId","data-v-0272b919"]]),St="/assets/sprout-BxQ6E4MP.png",yt="/api/student/home",wt={async getSeedTax(){const{data:s}=await P.get(`${yt}/weeklytax`);return console.log("My seedtax info GET",s),s}},D=s=>($("data-v-29d91f8e"),s=s(),b(),s),$t={class:"card-container"},bt={class:"card"},Dt={class:"card-img-overlay"},Tt=D(()=>t("div",{class:"text-white fw-semi-bold"},[t("div",{class:"tax-title"},[t("span",null,[t("span",{class:"highlight-seed",style:{"margin-left":"40px","margin-top":"55px"}},[t("img",{src:St,class:"seed-icon",alt:"씨드 이미지"}),u("1000씨드 ")])])])],-1)),Pt={class:"text-on-white-box"},It={class:"taxAlert mb-0"},Ct=D(()=>t("i",{class:"fa fa-check"},null,-1)),Mt=D(()=>t("div",{class:"card-img-overlay"},null,-1)),Nt={__name:"StudentTax",setup(s){const n=m(null);return(async()=>{try{n.value=await wt.getSeedTax(),console.log("SEED TAX!!!!>>>>>>",n.value)}catch(a){console.error("Failed to fetch seed tax:",a)}})(),(a,v)=>{const o=w("router-link");return g(),f("div",$t,[t("div",bt,[t("div",Dt,[Tt,t("div",Pt,[t("p",It,[Ct,u(" 주급에 대한 세율은 "+d(n.value!==null?n.value.rate+"%":"세율 정보를 불러오는 중입니다...")+" 입니다. ",1)])])])]),i(o,{to:"/student/bank",class:"card"},{default:p(()=>[Mt]),_:1})])}}},Et=x(Nt,[["__scopeId","data-v-29d91f8e"]]),Rt={class:"container mt-3",style:{width:"100vw"}},At={class:"row"},Bt={class:"col-12 mb-6"},Lt={class:"chart col-12 mb-6"},Vt={class:"col-12 mb-6"},Ht={__name:"StudentHome",setup(s){return(n,r)=>(g(),f("div",Rt,[t("div",At,[t("div",Bt,[i(Et)]),t("div",Lt,[i(dt)]),t("div",Vt,[i(kt)])])]))}},Qt=x(Ht,[["__scopeId","data-v-053ae8df"]]);export{Qt as default};
