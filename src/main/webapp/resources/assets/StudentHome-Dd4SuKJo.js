import{_ as P}from"./imgText2-EAhBqp2f.js";import{_ as C}from"./tree1-DF5lsKKK.js";import{u as w}from"./stockStore-sz4ZB7M7.js";import{d as h,c as v,p as M,o as g,e as f,k as d,z as N,B as I,_ as x,b as R,C as B,j as S,f as t,x as E,g as m,t as u,l as p,m as $}from"./index-gxZJ1D_R.js";import"./studentStockApi-CKw2OddO.js";const A={class:"container",style:{height:"100%"}},L={__name:"StockChart",setup(i){const n=w(),c=h(()=>n.chartData),a=h(()=>c.value.length===0?0:c.value.reduce((s,e)=>s.stockPrice>=e.stockPrice?s:e).stockPrice),l=s=>{if(!s||isNaN(s))return[0,0,0,0];const e=parseInt(s+(Math.random()*10-4)),k=parseInt(s+(Math.random()*8+2)),b=parseInt(s-(Math.random()*6+2)),y=parseInt(s),D=Math.max(e,k,y),T=Math.min(e,b,y);return[e,D,T,y]},o=s=>s.map(e=>({x:new Date(e.stockDate),y:l(e.stockPrice)})),r=v([{name:"Stock Prices",data:o(c.value)}]);M(c,s=>{r.value[0].data=o(s)});const _=v({chart:{id:"basic-bar"},height:"100%",xaxis:{type:"datetime",labels:{formatter:function(s){return new Date(s).getDate()}},tickAmount:c.value.length},yaxis:{tooltip:{enabled:!0},range:a.value+10}});return(s,e)=>(g(),f("div",A,[d(N(I),{style:{width:"100%",height:"100%"},type:"candlestick",options:_.value,series:r.value},null,8,["options","series"])]))}},V={class:"container"},H={class:"card"},F={class:"row"},U={class:"imgText col-5 text-white",style:{"min-width":"300px"}},j={class:"card-img-overlay"},z={class:"px-0 pt-2"},G={class:"fs-5 mb-0 text-danger fw-semibold"},O={class:"fs-5 txt-primary fw-semibold"},Q={class:"text-bottom"},X={class:"fs-5 mt-3 mb-1"},q={class:"fw-bold text-danger"},J={class:"fs-5 mb-1 mb-3"},K={class:"fw-bold txt-primary"},W={class:"stockChart col-7",style:{"min-width":"500px"}},Y={__name:"StockChartLayout",setup(i){const n=w(),c=R(),a=h(()=>n.chartData);c.roles,B(async()=>{await n.fetchMyStock(),await n.fetchChartData()});const l=h(()=>a.value.length===0?0:a.value.reduce((s,e)=>s.stockPrice>=e.stockPrice?s:e)),o=h(()=>a.value.length===0?0:a.value.reduce((s,e)=>s.stockPrice<=e.stockPrice?s:e)),r=h(()=>a.value.length===0?0:a.value[a.value.length-1]),_=h(()=>a.value.length===0?0:a.value[a.value.length-1].stockPrice-a.value[a.value.length-2].stockPrice);return(s,e)=>{const k=S("router-link");return g(),f("div",V,[t("div",H,[t("div",F,[t("div",U,[e[5]||(e[5]=t("img",{src:P,class:"card-img",alt:"..."},null,-1)),t("div",j,[e[4]||(e[4]=E('<div class="d-flex align-items-center mb-3" data-v-14cc94c8><div class="col-auto" data-v-14cc94c8><img src="'+C+'" class="chart-img" style="width:30px;height:auto;" data-v-14cc94c8></div><div class="mx-2 d-flex align-items-center" data-v-14cc94c8><h2 class="text-white fs-7 mt-3" data-v-14cc94c8>싹싹주식</h2></div></div>',1)),t("div",z,[t("p",G,[e[0]||(e[0]=t("span",{class:"text-gray"},"오늘의 가격",-1)),m(" "+u(r.value.stockPrice)+" 씨드",1)]),t("p",O,[e[1]||(e[1]=t("span",{class:"fs-6 text-muted pe-2"},"어제보다",-1)),m(" "+u(_.value)+" 씨드 ("+u(r.value.change>=0?`+${r.value.change}`:r.value.change)+"%) ",1)])]),t("div",Q,[t("p",X,[e[2]||(e[2]=m("최고 가격 (30일): ")),t("span",q,u(l.value.stockPrice)+" 씨드",1)]),t("p",J,[e[3]||(e[3]=m("최저 가격 (30일): ")),t("span",K,u(o.value.stockPrice)+" 씨드",1)])])])]),t("div",W,[e[6]||(e[6]=t("div",{class:"mx-1 mt-2 mb-3"},null,-1)),d(k,{class:"router1",to:"/teacher/stock"},{default:p(()=>[d(L)]),_:1})])])])])}}},Z=x(Y,[["__scopeId","data-v-14cc94c8"]]),tt="/api/student/home",et={async getSeedRankingThree(){const{data:i}=await $.get(`${tt}/seedranking`);return console.log("Seed ranking three students:",i),i}},st={class:"card-container"},at={class:"card-img-overlay"},ot={class:"overlay-text1"},nt={class:"overlay-text2"},ct={class:"overlay-text3"},rt={__name:"StudentDoor",setup(i){const n=v(""),c=v(""),a=v("");return(async()=>{try{const o=await et.getSeedRankingThree();console.log("Student Ranking:",o),o.length>=3&&(n.value=o[0].stdName,c.value=o[1].stdName,a.value=o[2].stdName)}catch(o){console.error("Failed to fetch seed ranking:",o)}})(),(o,r)=>{const _=S("router-link");return g(),f("div",st,[d(_,{to:"/student/event",class:"card"},{default:p(()=>[t("div",at,[t("span",ot,u(n.value),1),t("span",nt,u(c.value),1),t("span",ct,u(a.value),1)])]),_:1}),d(_,{to:"/student/profile",class:"card"},{default:p(()=>r[0]||(r[0]=[t("div",{class:"card-img-overlay"},null,-1)])),_:1}),d(_,{to:"/student/event/test",class:"card"},{default:p(()=>r[1]||(r[1]=[t("div",{class:"card-img-overlay"},null,-1)])),_:1})])}}},lt=x(rt,[["__scopeId","data-v-0272b919"]]),it="/assets/sprout-BxQ6E4MP.png",dt="/api/student/home",ut={async getSeedTax(){const{data:i}=await $.get(`${dt}/weeklytax`);return console.log("My seedtax info GET",i),i}},_t={class:"card-container"},ht={class:"card"},mt={class:"card-img-overlay"},vt={class:"text-on-white-box"},pt={class:"taxAlert mb-0"},gt={__name:"StudentTax",setup(i){const n=v(null);return(async()=>{try{n.value=await ut.getSeedTax(),console.log("SEED TAX!!!!>>>>>>",n.value)}catch(a){console.error("Failed to fetch seed tax:",a)}})(),(a,l)=>{const o=S("router-link");return g(),f("div",_t,[t("div",ht,[t("div",mt,[l[1]||(l[1]=t("div",{class:"text-white fw-semi-bold"},[t("div",{class:"tax-title"},[t("span",null,[t("span",{class:"highlight-seed",style:{"margin-left":"40px","margin-top":"55px"}},[t("img",{src:it,class:"seed-icon",alt:"씨드 이미지"}),m("1000씨드 ")])])])],-1)),t("div",vt,[t("p",pt,[l[0]||(l[0]=t("i",{class:"fa fa-check"},null,-1)),m(" 주급에 대한 세율은 "+u(n.value!==null?n.value.rate+"%":"세율 정보를 불러오는 중입니다...")+" 입니다. ",1)])])])]),d(o,{to:"/student/bank",class:"card"},{default:p(()=>l[2]||(l[2]=[t("div",{class:"card-img-overlay"},null,-1)])),_:1})])}}},ft=x(gt,[["__scopeId","data-v-29d91f8e"]]),xt={class:"container mt-3",style:{width:"100vw"}},kt={class:"row"},yt={class:"col-12 mb-6"},St={class:"chart col-12 mb-6"},wt={class:"col-12 mb-6"},$t={__name:"StudentHome",setup(i){return(n,c)=>(g(),f("div",xt,[t("div",kt,[t("div",yt,[d(ft)]),t("div",St,[d(Z)]),t("div",wt,[d(lt)])])]))}},Mt=x($t,[["__scopeId","data-v-053ae8df"]]);export{Mt as default};
