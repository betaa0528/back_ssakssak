import{_ as ct,d as z,c as l,E as ut,o as a,e as n,f as t,h as d,t as i,i as Y,w as c,v as r,s as X,g as _,F as U,q as j,z as rt,B as pt,C as _t}from"./index-DvTNLHIP.js";import{u as vt,a as I}from"./bankStore-Cy1I0gfk.js";import{t as mt,a as ht}from"./teacherTreasuryApi-BSWsKche.js";import"./teacherClassApi-AZEW-Jam.js";const gt="/assets/safe-B0LrVT1K.png",ft="/assets/coin-C6zk6TtS.png",bt="/assets/tree1-Cz0XYWiL.png",s=h=>(pt("data-v-8ac49d8c"),h=h(),_t(),h),xt=s(()=>t("div",{class:"section national-status p-3 mb-2",style:{"margin-bottom":"20px","margin-top":"50px","margin-left":"50px","margin-right":"50px","box-shadow":"0px 6px 8px rgba(0, 0, 0, 0.1)"}},[t("h4",{class:"section-title",style:{margin:"0","margin-left":"20px"}},"국고 현황")],-1)),yt={class:"row mb-2",style:{"margin-top":"20px","margin-left":"38px","margin-right":"38px"}},kt={class:"col-md-6"},wt={class:"card shadow-sm p-4 card-custom",style:{"margin-bottom":"10px"}},Ct=s(()=>t("img",{src:gt,alt:"금고 이미지",class:"icon"},null,-1)),Dt={class:"text-right card-text-custom"},St=s(()=>t("br",null,null,-1)),Lt={class:"col-md-6"},Mt={class:"card shadow-sm p-4 card-custom",style:{"margin-bottom":"10px"}},Vt=s(()=>t("img",{src:ft,alt:"코인 이미지",class:"icon"},null,-1)),qt={class:"text-right card-text-custom"},Nt=s(()=>t("br",null,null,-1)),Ut={class:"section national-status p-3 mb-1 d-flex justify-content-between align-items-center flex-wrap",style:{"margin-left":"50px","margin-right":"50px"}},jt=s(()=>t("h3",{class:"section-title",style:{margin:"0","margin-left":"20px"}},"예금 상품 목록",-1)),It={key:0,class:"modal"},Bt={class:"modal-content"},Ft=s(()=>t("h4",{class:"no-bold"},"새 예금 등록하기",-1)),Pt={class:"form-group"},Tt=s(()=>t("label",{for:"deposit-name"},[d("예금이름 "),t("span",{class:"required-asterisk"},"*")],-1)),Rt={class:"form-group"},Wt=s(()=>t("label",{for:"deposit-rate"},[d("기본금리(숫자만 입력)"),t("span",{class:"required-asterisk"},"*")],-1)),Jt={class:"form-group"},At=s(()=>t("label",{for:"deposit-point"},[d("상품특징"),t("span",{class:"required-asterisk"},"*")],-1)),zt={class:"form-group"},Xt=s(()=>t("label",{for:"deposit{eriod"},[d("예치기간 "),t("span",{class:"required-asterisk"},"*")],-1)),Et=s(()=>t("option",{value:"8"},"8주",-1)),Ot=s(()=>t("option",{value:"16"},"16주",-1)),Yt=s(()=>t("option",{value:"24"},"24주",-1)),$t=[Et,Ot,Yt],Kt={class:"form-group"},Gt=s(()=>t("label",{for:"deposit-max-amount"},[d("최대 입금 금액(숫자만 입력)"),t("span",{class:"required-asterisk"},"*")],-1)),Ht=s(()=>t("button",{type:"submit",class:"submit-button"},"등록",-1)),Qt={key:0,class:"complete-modal"},Zt=s(()=>t("p",null,"예금 설정이 완료되었어요",-1)),te={key:1,class:"complete-modal"},ee=s(()=>t("p",null,"필수 정보를 모두 입력해주세요",-1)),se={class:"card-container"},oe={class:"d-flex justify-content-between align-items-center"},le=["onClick"],ae=s(()=>t("img",{src:bt,class:"card-icon"},null,-1)),ne={class:"text-center"},ie={class:"interest"},de={class:"interest-rate"},ce={class:"details"},ue={class:"details-deposit"},re=s(()=>t("hr",null,null,-1)),pe={class:"description"},_e=s(()=>t("th",null,"상품특징",-1)),ve=s(()=>t("tr",null,[t("th",null,"가입대상"),t("td",null,"2학년 7반 학생")],-1)),me=s(()=>t("th",null,"예치기간",-1)),he=s(()=>t("th",null,"저축금액",-1)),ge=s(()=>t("br",null,null,-1)),fe={class:"section national-status p-3 mb-1 d-flex justify-content-between align-items-center flex-wrap",style:{"margin-left":"50px","margin-right":"50px"}},be=s(()=>t("h3",{class:"section-title",style:{margin:"0","margin-left":"20px"}},"적금 상품 목록",-1)),xe={key:0,class:"modal"},ye={class:"modal-content"},ke=s(()=>t("h4",{class:"no-bold"},"새 적금 등록하기",-1)),we={class:"form-group"},Ce=s(()=>t("label",{for:"saving-name"},[d("적금이름 "),t("span",{class:"required-asterisk"},"*")],-1)),De={class:"form-group"},Se=s(()=>t("label",{for:"basic-rate"},[d("기본금리(숫자만 입력)"),t("span",{class:"required-asterisk"},"*")],-1)),Le={class:"form-group"},Me=s(()=>t("label",{for:"saving-point"},[d("상품특징"),t("span",{class:"required-asterisk"},"*")],-1)),Ve={class:"form-group"},qe=s(()=>t("label",{for:"saving-person"},[d("가입대상"),t("span",{class:"required-asterisk"},"*")],-1)),Ne={class:"form-group"},Ue=s(()=>t("label",{for:"period"},[d("예치기간 "),t("span",{class:"required-asterisk"},"*")],-1)),je=s(()=>t("option",{value:"14"},"2주",-1)),Ie=s(()=>t("option",{value:"28"},"4주",-1)),Be=s(()=>t("option",{value:"56"},"8주",-1)),Fe=[je,Ie,Be],Pe={class:"form-group"},Te=s(()=>t("label",{for:"frequency"},[d("입금 주기 "),t("span",{class:"required-asterisk"},"*")],-1)),Re=s(()=>t("option",{value:"d"},"1일",-1)),We=s(()=>t("option",{value:"w"},"1주",-1)),Je=[Re,We],Ae={class:"form-group"},ze=s(()=>t("label",{for:"max-amount"},[d("최대 입금 금액(숫자만 입력)"),t("span",{class:"required-asterisk"},"*")],-1)),Xe={class:"form-group"},Ee=s(()=>t("label",{for:"extra-rate"},"우대 금리 설정(숫자만 입력)",-1)),Oe={class:"form-group"},Ye=s(()=>t("label",{for:"selected-Jobs"},"우대 금리 직업 (최대 4개 선택 가능)",-1)),$e={class:"job-list"},Ke=["value","disabled"],Ge={class:"form-group"},He=s(()=>t("label",{for:"selected-Jobslist"},"선택된 우대 금리 직업",-1)),Qe=s(()=>t("button",{type:"submit",class:"submit-button"},"등록",-1)),Ze={key:0,class:"complete-modal"},ts=s(()=>t("p",null,"적금 설정이 완료되었어요",-1)),es={key:1,class:"complete-modal"},ss=s(()=>t("p",null,"필수 정보를 모두 입력해주세요",-1)),os={class:"card-container"},ls={class:"d-flex justify-content-between align-items-center"},as=["onClick"],ns=["src"],is={class:"text-center"},ds={class:"interest"},cs={class:"interest-rate"},us={key:0,class:"interest-rate"},rs={class:"details"},ps={class:"details-deposit"},_s={key:0,class:"fa fa-leaf"},vs={key:1,class:"fa fa-tree"},ms={key:2},hs={key:3},gs=s(()=>t("br",null,null,-1)),fs=s(()=>t("hr",null,null,-1)),bs={class:"description"},xs=s(()=>t("th",null,"상품특징",-1)),ys=s(()=>t("tr",null,[t("th",null,"가입대상"),t("td",null,"2학년 7반 학생")],-1)),ks=s(()=>t("th",null,"예치기간",-1)),ws=s(()=>t("th",null,"저축금액",-1)),Cs=s(()=>t("br",null,null,-1)),Ds={__name:"TeacherBank",setup(h){const u=vt(),B=z(()=>u.savingList),E=z(()=>u.jobList),$=z(()=>u.depositList),g=l(""),f=l("");ut(async()=>{await u.fetchSavingList(),await u.fetchJobList(),await u.fetchDepositList(),f.value=await mt.getWeeklyTaxTotal(),g.value=await ht.Treasury(),f.value=f.value.toString().replace(new RegExp("\\B(?<!\\.\\d*)(?=(\\d{3})+(?!\\d))","g"),","),g.value=g.value.toString().replace(new RegExp("\\B(?<!\\.\\d*)(?=(\\d{3})+(?!\\d))","g"),",")});const b=l(!1),F=l(!1),P=l(!1),x=l(!1),T=l(!1),R=l(!1),p=l([]),K=v=>{const o=E.value.find(e=>e.jobId===v);return o?o.jobName:""},G=()=>{b.value=!0},H=()=>{x.value=!0},Q=()=>{p.value=[],b.value=!1},Z=()=>{x.value=!1},y=l(""),k=l(""),w=l(""),m=l(""),C=l(""),D=l(""),S=l(""),W=l({}),O=l(""),tt=async()=>{!y.value||!k.value||!w.value||!C.value||!D.value||!S.value?P.value=!0:(W.value={savingName:y.value,savingContent:k.value,maxDeposit:C.value,savingPeriod:D.value,savingCycle:S.value,rate:w.value,isPrime:m.value===null?"N":"Y",primeRate:m.value===null?0:m.value,img:"/public/safeimage.png",jobList:p.value},console.log(W.value),await I.addSaving(W.value),b.value=!1,F.value=!0,u.fetchSavingList())},L=l(""),M=l(""),V=l(""),q=l(""),N=l(""),J=l({}),et=async()=>{!L.value||!M.value||!V.value||!q.value||!N.value?R.value=!0:(J.value={depositName:L.value,depositContent:V.value,maxDeposit:N.value,depositPeriod:q.value,rate:M.value},console.log(J),await I.addDeposit(J.value),x.value=!1,T.value=!0,u.fetchDepositList())},st=()=>{F.value=!1},ot=()=>{P.value=!1},lt=()=>{T.value=!1},at=()=>{R.value=!1},nt=async v=>{await I.deleteSaving(v),await u.fetchSavingList(),console.log("Fetched Saving List:",B.value)},it=async v=>{await I.deleteDeposit(v),await u.fetchDepositList(),console.log("Fetched Saving List:",B.value)};return(v,o)=>(a(),n("div",null,[xt,t("div",yt,[t("div",kt,[t("div",wt,[Ct,t("p",Dt,[d(" 현재 국고에는"),St,d(i(g.value)+" 씨드가 있어요 ",1)])])]),t("div",Lt,[t("div",Mt,[Vt,t("p",qt,[d(" 이번주 세금으로 거둔 금액은"),Nt,d(i(f.value)+" 씨드입니다 ",1)])])])]),t("div",Ut,[jt,t("div",null,[t("button",{onClick:H,class:"btn btn-primary",style:{"background-color":"#00A3FF",color:"white"}},"새 예금 등록하기"),t("div",null,[x.value?(a(),n("div",It,[t("div",Bt,[Ft,t("form",{onSubmit:Y(et,["prevent"]),class:"form-grid"},[t("div",Pt,[Tt,c(t("input",{type:"text",id:"deposit-name","onUpdate:modelValue":o[0]||(o[0]=e=>L.value=e),placeholder:"예금이름을 입력해주세요."},null,512),[[r,L.value]])]),t("div",Rt,[Wt,c(t("input",{type:"text",id:"deposit-rate","onUpdate:modelValue":o[1]||(o[1]=e=>M.value=e),placeholder:"기본 금리를 입력해주세요."},null,512),[[r,M.value]])]),t("div",Jt,[At,c(t("input",{type:"text",id:"deposit-point","onUpdate:modelValue":o[2]||(o[2]=e=>V.value=e),placeholder:"상품특징을 입력해주세요."},null,512),[[r,V.value]])]),t("div",zt,[Xt,c(t("select",{id:"depositPeriod","onUpdate:modelValue":o[3]||(o[3]=e=>q.value=e),placeholder:"예치 기간을 선택해주세요"},$t,512),[[X,q.value]])]),t("div",Kt,[Gt,c(t("input",{type:"text",id:"deposit-max-amount","onUpdate:modelValue":o[4]||(o[4]=e=>N.value=e),placeholder:"최대 입금 금액을 설정해주세요"},null,512),[[r,N.value]])]),t("div",{class:"form-group full-width button-group"},[Ht,t("button",{type:"button",onClick:Z,class:"cancel-button"},"취소")])],32)])])):_("",!0)]),T.value?(a(),n("div",Qt,[t("div",{class:"modal-content"},[Zt,t("button",{onClick:lt,class:"confirm-button"},"확인")])])):_("",!0),R.value?(a(),n("div",te,[t("div",{class:"modal-content"},[ee,t("button",{onClick:at,class:"confirm-button"},"확인")])])):_("",!0)])]),t("div",se,[(a(!0),n(U,null,j($.value,(e,A)=>(a(),n("div",{key:e.depositId,class:"card-safe"},[t("div",oe,[t("button",{onClick:dt=>it(e.depositId),class:"delete-btn"},"X",8,le)]),ae,t("h4",ne,i(e.depositName),1),t("div",ie,[t("span",de,"기본 금리: "+i(e.rate)+"%",1)]),t("div",ce,[t("span",ue,[t("strong",null," 최대 "+i(e.maxDeposit)+" 씨드 입금 가능",1)])]),re,t("div",pe,[t("table",null,[t("tr",null,[_e,t("td",null,i(e.depositContent),1)]),ve,t("tr",null,[me,t("td",null,i(e.depositPeriod)+"주",1)]),t("tr",null,[he,t("td",null,"최대 "+i(e.maxDeposit)+" 씨드 ",1)])]),ge])]))),128))]),t("div",fe,[be,t("div",null,[t("button",{onClick:G,class:"btn btn-primary",style:{"background-color":"#00A3FF",color:"white"}},"새 적금 등록하기"),t("div",null,[b.value?(a(),n("div",xe,[t("div",ye,[ke,t("form",{onSubmit:Y(tt,["prevent"]),class:"form-grid"},[t("div",we,[Ce,c(t("input",{type:"text",id:"saving-name","onUpdate:modelValue":o[5]||(o[5]=e=>y.value=e),placeholder:"적금이름을 입력해주세요."},null,512),[[r,y.value]])]),t("div",De,[Se,c(t("input",{type:"text",id:"basic-rate","onUpdate:modelValue":o[6]||(o[6]=e=>w.value=e),placeholder:"기본 금리를 입력해주세요."},null,512),[[r,w.value]])]),t("div",Le,[Me,c(t("input",{type:"text",id:"saving-point","onUpdate:modelValue":o[7]||(o[7]=e=>k.value=e),placeholder:"상품특징을 입력해주세요."},null,512),[[r,k.value]])]),t("div",Ve,[qe,c(t("input",{type:"text",id:"saving-person","onUpdate:modelValue":o[8]||(o[8]=e=>O.value=e),placeholder:"가입대상을 입력해주세요."},null,512),[[r,O.value]])]),t("div",Ne,[Ue,c(t("select",{id:"period","onUpdate:modelValue":o[9]||(o[9]=e=>D.value=e),placeholder:"예치 기간을 선택해주세요"},Fe,512),[[X,D.value]])]),t("div",Pe,[Te,c(t("select",{id:"frequency","onUpdate:modelValue":o[10]||(o[10]=e=>S.value=e),placeholder:"입금 주기를 선택해주세요"},Je,512),[[X,S.value]])]),t("div",Ae,[ze,c(t("input",{type:"text",id:"max-amount","onUpdate:modelValue":o[11]||(o[11]=e=>C.value=e),placeholder:"최대 입금 금액을 설정해주세요"},null,512),[[r,C.value]])]),t("div",Xe,[Ee,c(t("input",{type:"text",id:"extra-rate","onUpdate:modelValue":o[12]||(o[12]=e=>m.value=e),placeholder:"우대 금리를 설정해주세요"},null,512),[[r,m.value]])]),t("div",Oe,[Ye,t("div",$e,[(a(!0),n(U,null,j(E.value,e=>(a(),n("label",{key:e.jobId},[c(t("input",{type:"checkbox",value:e.jobId,"onUpdate:modelValue":o[13]||(o[13]=A=>p.value=A),disabled:p.value.length>=4&&!p.value.includes(e.jobId)},null,8,Ke),[[rt,p.value]]),d(" "+i(e.jobName),1)]))),128))])]),t("div",Ge,[He,t("ul",null,[(a(!0),n(U,null,j(p.value,e=>(a(),n("li",{key:e},i(K(e)),1))),128))])]),t("div",{class:"form-group full-width button-group"},[Qe,t("button",{type:"button",onClick:Q,class:"cancel-button"},"취소")])],32)])])):_("",!0)]),F.value?(a(),n("div",Ze,[t("div",{class:"modal-content"},[ts,t("button",{onClick:st,class:"confirm-button"},"확인")])])):_("",!0),P.value?(a(),n("div",es,[t("div",{class:"modal-content"},[ss,t("button",{onClick:ot,class:"confirm-button"},"확인")])])):_("",!0)])]),t("div",os,[(a(!0),n(U,null,j(B.value,(e,A)=>(a(),n("div",{key:e.savingName,class:"card-safe"},[t("div",ls,[t("button",{onClick:dt=>nt(e.savingId),class:"delete-btn"},"X",8,as)]),t("img",{src:e.img,class:"card-icon"},null,8,ns),t("h4",is,i(e.savingName),1),t("div",ds,[t("span",cs,"기본 금리: "+i(e.rate)+"%",1),e.primeRate?(a(),n("span",us,"우대 금리: "+i(e.primeRate)+"%",1)):_("",!0)]),t("div",rs,[t("span",ps,[e.savingPeriod/7===2?(a(),n("i",_s)):(a(),n("i",vs)),e.savingCycle==="d"?(a(),n("strong",ms," 매일 최대 "+i(e.maxDeposit)+" 씨드 입금 가능",1)):(a(),n("strong",hs," 매주 최대 "+i(e.maxDeposit)+" 씨드 입금 가능",1)),gs])]),fs,t("div",bs,[t("table",null,[t("tr",null,[xs,t("td",null,i(e.savingContent),1)]),ys,t("tr",null,[ks,t("td",null,i(e.savingPeriod/7)+"주",1)]),t("tr",null,[ws,t("td",null,"최대 "+i(e.maxDeposit)+" 씨드 ",1)])]),Cs])]))),128))])]))}},qs=ct(Ds,[["__scopeId","data-v-8ac49d8c"]]);export{qs as default};
