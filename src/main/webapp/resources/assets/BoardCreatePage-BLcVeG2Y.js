import{b as _,a as k,u as x,c as d,r as T,d as V,j as q,o as r,e as n,f as t,g as i,w as u,v as f,s as S,F as c,q as B,k as C,l as M,z as N,i as U,t as h}from"./index-gxZJ1D_R.js";import{b as p}from"./boardApi-OemPiS-N.js";const A={class:"mb-3 mt-3 row"},D={class:"col-8"},F={class:"col-4"},R=["value"],j={class:"mb-3 mt-3"},z={class:"mb-3 mt-3"},E={class:"my-5 text-center"},L=["disabled"],K={__name:"BoardCreatePage",setup(P){const m=_(),b=k(),y=x(),o=d(null),a=d([]),s=T({writer:m.id,title:"",type:"plain",content:"",files:null}),v=V(()=>!s.title),g=async()=>{confirm("등록할까요?")&&(o.value.files.length>0&&(s.files=o.value.files),await p.create(s),b.push("/board/list"))};return(async()=>{try{a.value=await p.getTypes(),console.log(a.value)}catch{}})(),(H,e)=>{const w=q("router-link");return r(),n(c,null,[e[9]||(e[9]=t("h1",null,[t("i",{class:"fa-regular fa-pen-to-square"}),i(" 글 작성")],-1)),t("form",{onSubmit:U(g,["prevent"])},[t("div",A,[t("div",D,[e[3]||(e[3]=t("label",{for:"title",class:"form-label"}," 제목 ",-1)),u(t("input",{type:"text",class:"form-control",placeholder:"제목",id:"title","onUpdate:modelValue":e[0]||(e[0]=l=>s.title=l)},null,512),[[f,s.title]])]),t("div",F,[e[4]||(e[4]=t("label",{for:"title",class:"form-label"}," Type ",-1)),u(t("select",{"onUpdate:modelValue":e[1]||(e[1]=l=>s.type=l),class:"form-select",required:""},[(r(!0),n(c,null,B(a.value,l=>(r(),n("option",{key:l,value:l.type},h(l.name),9,R))),128))],512),[[S,s.type]])])]),t("div",j,[e[5]||(e[5]=t("label",{for:"files",class:"form-label"}," 첨부파일 ",-1)),t("input",{type:"file",class:"form-control",placeholder:"첨부파일",id:"files",ref_key:"files",ref:o,multiple:""},null,512)]),t("div",z,[e[6]||(e[6]=t("label",{for:"content",class:"form-label"}," 내용 ",-1)),u(t("textarea",{class:"form-control",placeholder:"내용",id:"content","onUpdate:modelValue":e[2]||(e[2]=l=>s.content=l),rows:"10"},null,512),[[f,s.content]])]),t("div",E,[t("button",{type:"submit",class:"btn btn-primary me-3",disabled:v.value},e[7]||(e[7]=[t("i",{class:"fa-solid fa-check"},null,-1),i(" 확인 ")]),8,L),C(w,{class:"btn btn-primary",to:{name:"board/list",query:N(y).query}},{default:M(()=>e[8]||(e[8]=[t("i",{class:"fa-solid fa-list"},null,-1),i(" 목록 ")])),_:1},8,["to"])])],32)],64)}}};export{K as default};
