import{_ as it,d as J,c as l,C as dt,o,e as n,f as t,g as i,t as a,i as Y,w as d,v as r,s as X,h as v,F as U,q as j,A as ut}from"./index-gxZJ1D_R.js";import{u as rt,a as F}from"./bankStore-B8RJ-S8h.js";import{t as pt,a as vt}from"./teacherTreasuryApi-DWtbua6y.js";import"./teacherClassApi-G0G2uyYe.js";const mt="/assets/safe-B0LrVT1K.png",ct="/assets/coin-C6zk6TtS.png",gt="/assets/tree1-Cz0XYWiL.png",ft={class:"row mb-2",style:{"margin-top":"20px","margin-left":"38px","margin-right":"38px"}},bt={class:"col-md-6"},xt={class:"card shadow-sm p-4 card-custom",style:{"margin-bottom":"10px"}},yt={class:"text-right card-text-custom"},kt={class:"col-md-6"},wt={class:"card shadow-sm p-4 card-custom",style:{"margin-bottom":"10px"}},Ct={class:"text-right card-text-custom"},Dt={class:"section national-status p-3 mb-1 d-flex justify-content-between align-items-center flex-wrap",style:{"margin-left":"50px","margin-right":"50px"}},Lt={key:0,class:"modal"},Mt={class:"modal-content"},Vt={class:"form-group"},qt={class:"form-group"},St={class:"form-group"},Nt={class:"form-group"},Ut={class:"form-group"},jt={key:0,class:"complete-modal"},Ft={key:1,class:"complete-modal"},Pt={class:"card-container"},Bt={class:"d-flex justify-content-between align-items-center"},Tt=["onClick"],_t={class:"text-center"},It={class:"interest"},Rt={class:"interest-rate"},Wt={class:"details"},At={class:"details-deposit"},Jt={class:"description"},Xt={class:"section national-status p-3 mb-1 d-flex justify-content-between align-items-center flex-wrap",style:{"margin-left":"50px","margin-right":"50px"}},zt={key:0,class:"modal"},Ot={class:"modal-content"},Yt={class:"form-group"},$t={class:"form-group"},Et={class:"form-group"},Kt={class:"form-group"},Gt={class:"form-group"},Ht={class:"form-group"},Qt={class:"form-group"},Zt={class:"form-group"},ht={class:"form-group"},ts={class:"job-list"},ss=["value","disabled"],es={class:"form-group"},ls={key:0,class:"complete-modal"},os={key:1,class:"complete-modal"},ns={class:"card-container"},as={class:"d-flex justify-content-between align-items-center"},is=["onClick"],ds=["src"],us={class:"text-center"},rs={class:"interest"},ps={class:"interest-rate"},vs={key:0,class:"interest-rate"},ms={class:"details"},cs={class:"details-deposit"},gs={key:0,class:"fa fa-leaf"},fs={key:1,class:"fa fa-tree"},bs={key:2},xs={key:3},ys={class:"description"},ks={__name:"TeacherBank",setup(ws){const u=rt(),P=J(()=>u.savingList),z=J(()=>u.jobList),$=J(()=>u.depositList),g=l(""),f=l("");dt(async()=>{await u.fetchSavingList(),await u.fetchJobList(),await u.fetchDepositList(),f.value=await pt.getWeeklyTaxTotal(),g.value=await vt.Treasury(),f.value=f.value.toString().replace(new RegExp("\\B(?<!\\.\\d*)(?=(\\d{3})+(?!\\d))","g"),","),g.value=g.value.toString().replace(new RegExp("\\B(?<!\\.\\d*)(?=(\\d{3})+(?!\\d))","g"),",")});const b=l(!1),B=l(!1),T=l(!1),x=l(!1),_=l(!1),I=l(!1),p=l([]),E=m=>{const s=z.value.find(e=>e.jobId===m);return s?s.jobName:""},K=()=>{b.value=!0},G=()=>{x.value=!0},H=()=>{p.value=[],b.value=!1},Q=()=>{x.value=!1},y=l(""),k=l(""),w=l(""),c=l(""),C=l(""),D=l(""),L=l(""),R=l({}),O=l(""),Z=async()=>{!y.value||!k.value||!w.value||!C.value||!D.value||!L.value?T.value=!0:(R.value={savingName:y.value,savingContent:k.value,maxDeposit:C.value,savingPeriod:D.value,savingCycle:L.value,rate:w.value,isPrime:c.value===null?"N":"Y",primeRate:c.value===null?0:c.value,img:"/public/safeimage.png",jobList:p.value},console.log(R.value),await F.addSaving(R.value),b.value=!1,B.value=!0,u.fetchSavingList())},M=l(""),V=l(""),q=l(""),S=l(""),N=l(""),W=l({}),h=async()=>{!M.value||!V.value||!q.value||!S.value||!N.value?I.value=!0:(W.value={depositName:M.value,depositContent:q.value,maxDeposit:N.value,depositPeriod:S.value,rate:V.value},console.log(W),await F.addDeposit(W.value),x.value=!1,_.value=!0,u.fetchDepositList())},tt=()=>{B.value=!1},st=()=>{T.value=!1},et=()=>{_.value=!1},lt=()=>{I.value=!1},ot=async m=>{await F.deleteSaving(m),await u.fetchSavingList(),console.log("Fetched Saving List:",P.value)},nt=async m=>{await F.deleteDeposit(m),await u.fetchDepositList(),console.log("Fetched Saving List:",P.value)};return(m,s)=>(o(),n("div",null,[s[62]||(s[62]=t("div",{class:"section national-status p-3 mb-2",style:{"margin-bottom":"20px","margin-top":"50px","margin-left":"50px","margin-right":"50px","box-shadow":"0px 6px 8px rgba(0, 0, 0, 0.1)"}},[t("h4",{class:"section-title",style:{margin:"0","margin-left":"20px"}},"국고 현황")],-1)),t("div",ft,[t("div",bt,[t("div",xt,[s[16]||(s[16]=t("img",{src:mt,alt:"금고 이미지",class:"icon"},null,-1)),t("p",yt,[s[14]||(s[14]=i(" 현재 국고에는")),s[15]||(s[15]=t("br",null,null,-1)),i(a(g.value)+" 씨드가 있어요 ",1)])])]),t("div",kt,[t("div",wt,[s[19]||(s[19]=t("img",{src:ct,alt:"코인 이미지",class:"icon"},null,-1)),t("p",Ct,[s[17]||(s[17]=i(" 이번주 세금으로 거둔 금액은")),s[18]||(s[18]=t("br",null,null,-1)),i(a(f.value)+" 씨드입니다 ",1)])])])]),t("div",Dt,[s[30]||(s[30]=t("h3",{class:"section-title",style:{margin:"0","margin-left":"20px"}},"예금 상품 목록",-1)),t("div",null,[t("button",{onClick:G,class:"btn btn-primary",style:{"background-color":"#00A3FF",color:"white"}},"새 예금 등록하기"),t("div",null,[x.value?(o(),n("div",Lt,[t("div",Mt,[s[27]||(s[27]=t("h4",{class:"no-bold"},"새 예금 등록하기",-1)),t("form",{onSubmit:Y(h,["prevent"]),class:"form-grid"},[t("div",Vt,[s[20]||(s[20]=t("label",{for:"deposit-name"},[i("예금이름 "),t("span",{class:"required-asterisk"},"*")],-1)),d(t("input",{type:"text",id:"deposit-name","onUpdate:modelValue":s[0]||(s[0]=e=>M.value=e),placeholder:"예금이름을 입력해주세요."},null,512),[[r,M.value]])]),t("div",qt,[s[21]||(s[21]=t("label",{for:"deposit-rate"},[i("기본금리(숫자만 입력)"),t("span",{class:"required-asterisk"},"*")],-1)),d(t("input",{type:"text",id:"deposit-rate","onUpdate:modelValue":s[1]||(s[1]=e=>V.value=e),placeholder:"기본 금리를 입력해주세요."},null,512),[[r,V.value]])]),t("div",St,[s[22]||(s[22]=t("label",{for:"deposit-point"},[i("상품특징"),t("span",{class:"required-asterisk"},"*")],-1)),d(t("input",{type:"text",id:"deposit-point","onUpdate:modelValue":s[2]||(s[2]=e=>q.value=e),placeholder:"상품특징을 입력해주세요."},null,512),[[r,q.value]])]),t("div",Nt,[s[24]||(s[24]=t("label",{for:"deposit{eriod"},[i("예치기간 "),t("span",{class:"required-asterisk"},"*")],-1)),d(t("select",{id:"depositPeriod","onUpdate:modelValue":s[3]||(s[3]=e=>S.value=e),placeholder:"예치 기간을 선택해주세요"},s[23]||(s[23]=[t("option",{value:"8"},"8주",-1),t("option",{value:"16"},"16주",-1),t("option",{value:"24"},"24주",-1)]),512),[[X,S.value]])]),t("div",Ut,[s[25]||(s[25]=t("label",{for:"deposit-max-amount"},[i("최대 입금 금액(숫자만 입력)"),t("span",{class:"required-asterisk"},"*")],-1)),d(t("input",{type:"text",id:"deposit-max-amount","onUpdate:modelValue":s[4]||(s[4]=e=>N.value=e),placeholder:"최대 입금 금액을 설정해주세요"},null,512),[[r,N.value]])]),t("div",{class:"form-group full-width button-group"},[s[26]||(s[26]=t("button",{type:"submit",class:"submit-button"},"등록",-1)),t("button",{type:"button",onClick:Q,class:"cancel-button"},"취소")])],32)])])):v("",!0)]),_.value?(o(),n("div",jt,[t("div",{class:"modal-content"},[s[28]||(s[28]=t("p",null,"예금 설정이 완료되었어요",-1)),t("button",{onClick:et,class:"confirm-button"},"확인")])])):v("",!0),I.value?(o(),n("div",Ft,[t("div",{class:"modal-content"},[s[29]||(s[29]=t("p",null,"필수 정보를 모두 입력해주세요",-1)),t("button",{onClick:lt,class:"confirm-button"},"확인")])])):v("",!0)])]),t("div",Pt,[(o(!0),n(U,null,j($.value,(e,A)=>(o(),n("div",{key:e.depositId,class:"card-safe"},[t("div",Bt,[t("button",{onClick:at=>nt(e.depositId),class:"delete-btn"},"X",8,Tt)]),s[36]||(s[36]=t("img",{src:gt,class:"card-icon"},null,-1)),t("h4",_t,a(e.depositName),1),t("div",It,[t("span",Rt,"기본 금리: "+a(e.rate)+"%",1)]),t("div",Wt,[t("span",At,[t("strong",null," 최대 "+a(e.maxDeposit)+" 씨드 입금 가능",1)])]),s[37]||(s[37]=t("hr",null,null,-1)),t("div",Jt,[t("table",null,[t("tr",null,[s[31]||(s[31]=t("th",null,"상품특징",-1)),t("td",null,a(e.depositContent),1)]),s[34]||(s[34]=t("tr",null,[t("th",null,"가입대상"),t("td",null,"2학년 7반 학생")],-1)),t("tr",null,[s[32]||(s[32]=t("th",null,"예치기간",-1)),t("td",null,a(e.depositPeriod)+"주",1)]),t("tr",null,[s[33]||(s[33]=t("th",null,"저축금액",-1)),t("td",null,"최대 "+a(e.maxDeposit)+" 씨드 ",1)])]),s[35]||(s[35]=t("br",null,null,-1))])]))),128))]),t("div",Xt,[s[54]||(s[54]=t("h3",{class:"section-title",style:{margin:"0","margin-left":"20px"}},"적금 상품 목록",-1)),t("div",null,[t("button",{onClick:K,class:"btn btn-primary",style:{"background-color":"#00A3FF",color:"white"}},"새 적금 등록하기"),t("div",null,[b.value?(o(),n("div",zt,[t("div",Ot,[s[51]||(s[51]=t("h4",{class:"no-bold"},"새 적금 등록하기",-1)),t("form",{onSubmit:Y(Z,["prevent"]),class:"form-grid"},[t("div",Yt,[s[38]||(s[38]=t("label",{for:"saving-name"},[i("적금이름 "),t("span",{class:"required-asterisk"},"*")],-1)),d(t("input",{type:"text",id:"saving-name","onUpdate:modelValue":s[5]||(s[5]=e=>y.value=e),placeholder:"적금이름을 입력해주세요."},null,512),[[r,y.value]])]),t("div",$t,[s[39]||(s[39]=t("label",{for:"basic-rate"},[i("기본금리(숫자만 입력)"),t("span",{class:"required-asterisk"},"*")],-1)),d(t("input",{type:"text",id:"basic-rate","onUpdate:modelValue":s[6]||(s[6]=e=>w.value=e),placeholder:"기본 금리를 입력해주세요."},null,512),[[r,w.value]])]),t("div",Et,[s[40]||(s[40]=t("label",{for:"saving-point"},[i("상품특징"),t("span",{class:"required-asterisk"},"*")],-1)),d(t("input",{type:"text",id:"saving-point","onUpdate:modelValue":s[7]||(s[7]=e=>k.value=e),placeholder:"상품특징을 입력해주세요."},null,512),[[r,k.value]])]),t("div",Kt,[s[41]||(s[41]=t("label",{for:"saving-person"},[i("가입대상"),t("span",{class:"required-asterisk"},"*")],-1)),d(t("input",{type:"text",id:"saving-person","onUpdate:modelValue":s[8]||(s[8]=e=>O.value=e),placeholder:"가입대상을 입력해주세요."},null,512),[[r,O.value]])]),t("div",Gt,[s[43]||(s[43]=t("label",{for:"period"},[i("예치기간 "),t("span",{class:"required-asterisk"},"*")],-1)),d(t("select",{id:"period","onUpdate:modelValue":s[9]||(s[9]=e=>D.value=e),placeholder:"예치 기간을 선택해주세요"},s[42]||(s[42]=[t("option",{value:"14"},"2주",-1),t("option",{value:"28"},"4주",-1),t("option",{value:"56"},"8주",-1)]),512),[[X,D.value]])]),t("div",Ht,[s[45]||(s[45]=t("label",{for:"frequency"},[i("입금 주기 "),t("span",{class:"required-asterisk"},"*")],-1)),d(t("select",{id:"frequency","onUpdate:modelValue":s[10]||(s[10]=e=>L.value=e),placeholder:"입금 주기를 선택해주세요"},s[44]||(s[44]=[t("option",{value:"d"},"1일",-1),t("option",{value:"w"},"1주",-1)]),512),[[X,L.value]])]),t("div",Qt,[s[46]||(s[46]=t("label",{for:"max-amount"},[i("최대 입금 금액(숫자만 입력)"),t("span",{class:"required-asterisk"},"*")],-1)),d(t("input",{type:"text",id:"max-amount","onUpdate:modelValue":s[11]||(s[11]=e=>C.value=e),placeholder:"최대 입금 금액을 설정해주세요"},null,512),[[r,C.value]])]),t("div",Zt,[s[47]||(s[47]=t("label",{for:"extra-rate"},"우대 금리 설정(숫자만 입력)",-1)),d(t("input",{type:"text",id:"extra-rate","onUpdate:modelValue":s[12]||(s[12]=e=>c.value=e),placeholder:"우대 금리를 설정해주세요"},null,512),[[r,c.value]])]),t("div",ht,[s[48]||(s[48]=t("label",{for:"selected-Jobs"},"우대 금리 직업 (최대 4개 선택 가능)",-1)),t("div",ts,[(o(!0),n(U,null,j(z.value,e=>(o(),n("label",{key:e.jobId},[d(t("input",{type:"checkbox",value:e.jobId,"onUpdate:modelValue":s[13]||(s[13]=A=>p.value=A),disabled:p.value.length>=4&&!p.value.includes(e.jobId)},null,8,ss),[[ut,p.value]]),i(" "+a(e.jobName),1)]))),128))])]),t("div",es,[s[49]||(s[49]=t("label",{for:"selected-Jobslist"},"선택된 우대 금리 직업",-1)),t("ul",null,[(o(!0),n(U,null,j(p.value,e=>(o(),n("li",{key:e},a(E(e)),1))),128))])]),t("div",{class:"form-group full-width button-group"},[s[50]||(s[50]=t("button",{type:"submit",class:"submit-button"},"등록",-1)),t("button",{type:"button",onClick:H,class:"cancel-button"},"취소")])],32)])])):v("",!0)]),B.value?(o(),n("div",ls,[t("div",{class:"modal-content"},[s[52]||(s[52]=t("p",null,"적금 설정이 완료되었어요",-1)),t("button",{onClick:tt,class:"confirm-button"},"확인")])])):v("",!0),T.value?(o(),n("div",os,[t("div",{class:"modal-content"},[s[53]||(s[53]=t("p",null,"필수 정보를 모두 입력해주세요",-1)),t("button",{onClick:st,class:"confirm-button"},"확인")])])):v("",!0)])]),t("div",ns,[(o(!0),n(U,null,j(P.value,(e,A)=>(o(),n("div",{key:e.savingName,class:"card-safe"},[t("div",as,[t("button",{onClick:at=>ot(e.savingId),class:"delete-btn"},"X",8,is)]),t("img",{src:e.img,class:"card-icon"},null,8,ds),t("h4",us,a(e.savingName),1),t("div",rs,[t("span",ps,"기본 금리: "+a(e.rate)+"%",1),e.primeRate?(o(),n("span",vs,"우대 금리: "+a(e.primeRate)+"%",1)):v("",!0)]),t("div",ms,[t("span",cs,[e.savingPeriod/7===2?(o(),n("i",gs)):(o(),n("i",fs)),e.savingCycle==="d"?(o(),n("strong",bs," 매일 최대 "+a(e.maxDeposit)+" 씨드 입금 가능",1)):(o(),n("strong",xs," 매주 최대 "+a(e.maxDeposit)+" 씨드 입금 가능",1)),s[55]||(s[55]=t("br",null,null,-1))])]),s[61]||(s[61]=t("hr",null,null,-1)),t("div",ys,[t("table",null,[t("tr",null,[s[56]||(s[56]=t("th",null,"상품특징",-1)),t("td",null,a(e.savingContent),1)]),s[59]||(s[59]=t("tr",null,[t("th",null,"가입대상"),t("td",null,"2학년 7반 학생")],-1)),t("tr",null,[s[57]||(s[57]=t("th",null,"예치기간",-1)),t("td",null,a(e.savingPeriod/7)+"주",1)]),t("tr",null,[s[58]||(s[58]=t("th",null,"저축금액",-1)),t("td",null,"최대 "+a(e.maxDeposit)+" 씨드 ",1)])]),s[60]||(s[60]=t("br",null,null,-1))])]))),128))])]))}},Vs=it(ks,[["__scopeId","data-v-8ac49d8c"]]);export{Vs as default};
